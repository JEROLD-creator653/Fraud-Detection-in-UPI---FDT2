#Issues in Project

1. The chatbot is not able to explain a transaction when given its Id.
   - STATUS: RESOLVED âœ“

2. In react app, the actions done by admin is not reflected in the recent transactions but it is reflected in the transaction history page
   - STATUS: RESOLVED âœ“ (verified end-to-end)

3. (Backend Startup Issue - FIXED) 
   - Problem: Server was stuck during startup due to async redis_pubsub_listener blocking
   - Fix: Converted async listener to synchronous and run in background thread
   - File: /backend/server.py:145-175, 350-356
   - STATUS: RESOLVED âœ“
   - Verification: Server now starts and initializes all components successfully

4. Chatbot returns "Sorry, I encountered an error" when asking about database data
   - Problem: Query results contained datetime and Decimal objects that couldn't be JSON serialized
   - Error: "Object of type datetime is not JSON serializable" â†’ then "Object of type Decimal is not JSON serializable"
   - Fix: Added _convert_datetime_objects() helper method in FraudDetectionChatbot class
     - Recursively converts datetime objects to ISO format strings
     - Converts Decimal objects to floats
     - Applied conversion to sql_results before returning from chat() method
   - File: /app/chatbot.py:506-520
   - STATUS: RESOLVED âœ“
   - Verification: Tested with queries like "Show me blocked transactions", "How many transactions total?", "What is average risk score?" - all working

5. Chatbot was showing raw JSON query results and unnecessary SQL mentions
   - Problem 1: Raw JSON data was appended to responses as "ðŸ“Š Query Results: [{...}]"
   - Solution 1: Removed JSON appending from response (still available via API sql_results field)
   - File: /app/chatbot.py:543
   
   - Problem 2: AI was mentioning SQL queries for analytics questions when answer was already in data
   - Example: "Are there delayed transactions?" â†’ "I can execute a SQL query..." (instead of just "0 delayed")
   - Solution 2: Updated AI instructions to prioritize analytics data and NEVER mention SQL for statistics
   - File: /app/chatbot.py:418-432, 436-442
   - STATUS: RESOLVED âœ“
   - Verification: 
     - "How many blocked?" â†’ Direct answer from analytics (no SQL mention)
     - "Show delayed transactions" â†’ "0 delayed transactions" (clean response)
     - "Average risk score?" â†’ "0.552" (immediate answer)
